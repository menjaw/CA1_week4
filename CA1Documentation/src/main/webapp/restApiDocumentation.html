<html>
    <head>
        <title>REST API documentation</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link href="Styles/StyleLibrary.css" rel="stylesheet" type="text/css"/>
    </head>
    <body>
        <div class="container-fluid">
            <!--HEADER-->
            <header>
                <!--Navigation Bar-->
                <ul class="nav nav-pills">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="howToUseTheSystem.html">How To Use It</a></li>
                    <li><a href="testStrategy.html">Test Results</a></li>
                    <li><a href="implementationStrategy.html">Implementation</a></li>
                    <li><a href="restApiDocumentation.html">REST API documentation</a></li>
                    <li><a href="whoDidWhat.html">Who did what</a></li>
                    <li><a href="theDays.html">The days</a></li>
                </ul>
                <hr>
            </header>

            <!--CONTENT-->
            <div class="col-md-12">
                <h1 class="centerText">REST API Documentation</h1>
                <hr>

                <p>We have decided to make a REST-class to each of the facdes, so we consistently build the system with a uniform structure</p>
                <p>The data will be converted 'from Gson to Json' and 'from Json to Gson' by calling the JsonConverter-class</p>
                <p>The PersonResource-class contains a fully CRUD and it is possible to test all 4 operations from Postman</p>


                <p>Shows an example for REST-API to get a person</p>
                <table class="table table-striped col-md-8">
                    <thead>
                    <th>Proces</th>
                    <th>Description</th>
                    </thead>

                    <tbody class="">
                        <tr>
                            <td>Title</td>
                            <td>
                                <ul>
                                    <li>GetPerson(@PathParam("id" int id))</li>
                                    <li>Gets a person by a specific Id</li>
                                    <li>The call from the API take one person from the DB</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>URL</td>
                            <td>
                                <ul>
                                    <li>This is the URL for local testing</li>
                                    <li>http://localhost:8084/CA1/api/person/complete/9</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Method</td>
                            <td>
                                <ul>
                                    <li>@GET</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Annotations</td>
                            <td>
                                <ul>
                                    <li>@Path("/complete/{id}")</li>
                                    <li>@PathParam("id")</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Data Parameters</td>
                            <td>
                                <ul>
                                    <li>@PathParam("id")</li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Succes Response</td>
                            <td>
                                <ul>
                                    <li>What should the status code be on success and is there any returned data? This is useful when people need to to know what their callbacks should expect! </li>
                                    <li>
                                        <p>Code: 200 </p>
                                        <p>Return the person with the given id</p>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Error Response</td>
                            <td>                            
                                <ul>
                                    <li>
                                        <p>Not done yet</p>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Sample calls</td>
                            <td>
                                <ul>
                                    <li>
                                        <p>Call the getPersonById-method from Javascript</p>
                                    </li>
                                    <li>
                                        <p>Call the getPersonById-method in Facade-class</p>
                                        <img src="Images/getPersonByIdFacade.PNG" alt=""/>                                        
                                    </li>
                                    <li>
                                        <p>Call the getPersonById-method in the PersonResource-class (REST-API)</p>
                                        <img src="Images/getPersonByIdRest-Api.PNG" alt=""/>
                                    </li>
                                    <li>
                                        <p>Test the method in Postman</p>
                                        <img src="Images/GetPersonByIdPostman.PNG" alt=""/>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>Notes to the REST-API</td>
                            <td>
                                <ul>
                                    <li>
                                        <h4>All URL's for the REST-API</h4>
                                        <p>http://localhost:8084/CA1/api/person/complete</p>
                                        <p>http://localhost:8084/CA1/api/person/complete/id</p>
                                        <p>http://localhost:8084/CA1/api/person/contactinfo</p>
                                        <p>http://localhost:8084/CA1/api/person/add</p>
                                        <p>http://localhost:8084/CA1/api/person/update</p>
                                        <p>http://localhost:8084/CA1/api/person/delete/id</p>
                                    </li>
                                    <li>
                                        <h4>JSON Converter</h4>
                                        <p><img src="Images/JsonConverter.PNG" alt=""/></p>
                                    </li>
                                </ul>


                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
            <!--FOOTER-->
            <div>
                <footer class="centerText">
                    <p><b>Xu Zhenyang, Oliver LÃ¸ye, Dogan Yildirim, Menja Holm Wettergren</b></p>
                </footer>
            </div>

            <!--SCRIPTS-->
            <script 
                src="Styles/PersonHandler.js" type="text/javascript">
            </script>
        </div>
    </body>
</html>
