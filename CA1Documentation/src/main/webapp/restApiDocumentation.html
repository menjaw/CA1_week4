<html>
    <head>
        <title>REST API documentation</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="Styles/bootstrap.css" rel="stylesheet" type="text/css"/>
        <link href="Styles/StyleLibrary.css" rel="stylesheet" type="text/css"/>
        <script src="Styles/bootstrap.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <!--HEADER-->
                <header>  
                    <!--NAVBAR-->
                    <nav class="navbar navbar-expand">
                        <div class="container-fluid">
                            <ul class="nav navbar-nav">
                                <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
                                <li class="nav-item"><a href="howToUseTheSystem.html" class="nav-link">How To Use It</a></li>
                                <li class="nav-item"><a href="testStrategy.html" class="nav-link">Test Results</a></li>
                                <li class="nav-item"><a href="implementationStrategy.html" class="nav-link">Implementation</a></li>
                                <li class="nav-item"><a href="restApiDocumentation.html" class="nav-link">REST API documentation</a></li>
                                <li class="nav-item"><a href="whoDidWhat.html" class="nav-link">Who did what</a></li>
                                <li class="nav-item"><a href="theDays.html" class="nav-link">The days</a></li>
                            </ul>
                        </div>
                    </nav>
                </header>
            </div>

            <!--CONTENT-->
            <div class="row">

                <div class="col-md-12 centerText">
                    <hr>
                    <h1>REST API Documentation</h1>
                    <hr>
                    <p>We have decided to make a REST-class to each of the facdes, so we consistently build the system with a uniform structure</p>
                    <p>The data will be converted 'from Gson to Json' and 'from Json to Gson' by calling the JsonConverter-class</p>
                    <p>The PersonResource-class contains a fully CRUD and it is possible to test all 4 operations from Postman</p>

                </div>


                <div class="col-md-12">
                    <h2 class="centerText">Shows an example for REST-API to get a person</h2>
                    <table class="table table-striped table-inverse table-bordered table-hover table-responsive">
                        <thead class="thead-inverse">
                            <tr>
                                <th>Proces</th>
                                <th>Description</th>
                            </tr>
                        </thead>

                        <tbody class="">
                            <tr>
                                <td>Title</td>
                                <td>
                                    <ul>
                                        <li>GetPerson(@PathParam("id" int id))</li>
                                        <li>Gets a person by a specific Id</li>
                                        <li>The call from the API take one person from the DB</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>URL</td>
                                <td>
                                    <ul>
                                        <li>This is the URL for local testing</li>
                                        <li>http://localhost:8084/CA1/api/person/complete/9</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Method</td>
                                <td>
                                    <ul>
                                        <li>@GET</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Annotations</td>
                                <td>
                                    <ul>
                                        <li>@Path("/complete/{id}")</li>
                                        <li>@PathParam("id")</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Data Parameters</td>
                                <td>
                                    <ul>
                                        <li>@PathParam("id")</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Succes Response</td>
                                <td>
                                    <ul>
                                        <li>What should the status code be on success and is there any returned data? This is useful when people need to to know what their callbacks should expect! </li>
                                        <li>
                                            <p>Code: 200 </p>
                                            <p>Return the person with the given id</p>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Error Response</td>
                                <td>                            
                                    <ul>
                                        <li>
                                            <p>Not done yet</p>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Sample calls</td>
                                <td>
                                    <ul>
                                        <li>
                                            <p>Call the getPersonById-method in Facade-class</p>
                                            <img src="Images/getPersonByIdFacade.PNG" alt="" class="img-fluid" />                                        
                                        </li>
                                        <li>
                                            <p>Call the getPersonById-method in the PersonResource-class (REST-API)</p>
                                            <img src="Images/getPersonByIdRest-Api.PNG" alt="" class="img-fluid" />
                                        </li>
                                        <li>
                                            <p>Test the method in Postman</p>
                                            <img src="Images/GetPersonByIdPostman.PNG" alt="" class="img-fluid" style="max-width: 70%;"/>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td>Note to the REST-API</td>
                                <td>
                                    <h4>JSON Converter</h4>
                                    <p><img src="Images/JsonConverter.PNG" alt="" class="img-fluid"/></p>
                                </td>
                            </tr>
                            <tr>
                                <td>Note</td>
                                <td>
                                    <p>http://websen.eu/ca1/api/person/add:</p>
                                    <p>http://websen.eu/ca1/api/person/contactinfo</p>
                                    <p>http://websen.eu/ca1/api/person/contactinfo/2 (id nummer 1 er slettet fra databasen)</p>
                                    <p>http://websen.eu/ca1/api/person/delete/{id}</p>
                                    <p>http://websen.eu/ca1/api/person/update</p>
                                    <div class="col-md-6">
                                        <p><b>Results from Postman from the url's above:</b></p>
                                        <img src="Images/addPersonPostman.PNG.jpg" alt="" class="img-fluid" />
                                        <img src="Images/getContactInfosPostman.jpg" alt="" class="img-fluid" />
                                        <img src="Images/getContactInfosByIdPostman.jpg" alt="" class="img-fluid" />
                                        <img src="Images/getAllZipsPostman.PNG" alt="" class="img-fluid" />
                                        <img src="Images/updatePersonPostman.jpg" alt="" class="img-fluid" />
                                        <img src="Images/deletePersonPostman.jpg" alt="" class="img-fluid" />
                                    </div>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <!--FOOTER-->
            <div>
                <footer class="centerText">
                    <p><b>Xu Zhenyang, Oliver LÃ¸ye, Dogan Yildirim, Menja Holm Wettergren</b></p>
                </footer>
            </div>
        </div>
    </body>
</html>
